<!DOCTYPE html>
<html>
  <head>
    <meta charset="EUC-KR" />
    <title>ì´ì´ˆì—ê²Œ ë°©ëª…ë¡ì„ ë‚¨ê²¨ì£¼ì„¸ìš”</title>
    <link rel="stylesheet" href="style.css" />
    <style>
      #t1,
      div {
        background-color: whitesmoke;
        border: 1px solid grey;
      }
      body {
        height: 100vh;
        background: url("./images/bgimage.jpg") no-repeat center;
        background-size: cover;
      }
    </style>
    <script>
      let cnt = 1;
      function a() {
        let writer = f.writer.value;
        let pwd = f.pwd.value;
        let content = f.content.value;
        let el = mkDiv(writer, pwd, content);
        let list = document.getElementById("list");
        list.appendChild(el);
        f.writer.value = "";
        f.pwd.value = "";
        f.content.value = "";
      }
      function mkDiv(writer, pwd, content) {
        let newDiv = document.createElement("div"); //ìƒˆ divíƒœê·¸ ìƒì„±  <div id="d_1" pwd='111'>
        newDiv.id = "d_" + cnt; //ìƒì„±í•œ divì— id ì§€ì •. d_cnt
        newDiv.pwd = pwd;
        let html = ""; //ìƒì„±ëœ divì— ì¶œë ¥ë  ë‚´ìš©
        html += "writer:<span id='w_" + cnt + "'>" + writer + "</span><br/>";
        html += "content:<span id='c_" + cnt + "'>" + content + "</span><br/>";
        html +=
          "<input type='button' value='ìˆ˜ì •' onclick=editForm(" + cnt + ")>"; //editForm(2)
        html += "<input type='button' value='ì‚­ì œ' onclick=del(" + cnt + ")>";
        newDiv.innerHTML = html;
        cnt++;
        return newDiv;
      }
      function editForm(cnt) {
        let editDiv = document.getElementById("d_" + cnt); //ìˆ˜ì •í•  ê¸€ì˜ div
        let editForm = document.getElementById("editf");
        editDiv.appendChild(editForm);
        let writer = document.getElementById("w_" + cnt).innerHTML;
        let content = document.getElementById("c_" + cnt).innerHTML;
        document.getElementById("editwriter").value = writer;
        document.getElementById("editcontent").value = content;
        document.getElementById("editbtn").cnt = cnt; //ë²„íŠ¼ì— cntì†ì„±ì„ ì¶”ê°€í•´ì„œ, ìˆ˜ì • ê¸€ë²ˆí˜¸ë¥¼ ì €ì¥
        editForm.style.display = "";
      }
      function cancel() {
        let editForm = document.getElementById("editf");
        editForm.style.display = "none";
        document.getElementsByTagName("body")[0].appendChild(editForm);
      }
      function edit() {
        let cnt = document.getElementById("editbtn").cnt;
        let editDiv = document.getElementById("d_" + cnt);
        let pwd2 = document.getElementById("editpwd").value; //ìˆ˜ì •í¼ì— ì…ë ¥í•œ ê¸€ ë¹„ë°€ë²ˆí˜¸
        if (editDiv.pwd != pwd2) {
          alert("ê¸€ ë¹„ë°€ë²ˆí˜¸ê°€ ë‹¤ë¥¸ë°ìš”. ìˆ˜ì • ëª» í•¨");
        } else {
          let newWriter = document.getElementById("editwriter").value;
          let newContent = document.getElementById("editcontent").value;
          document.getElementById("w_" + cnt).innerHTML = newWriter;
          document.getElementById("c_" + cnt).innerHTML = newContent;
        }
        document.getElementById("editwriter").value = "";
        document.getElementById("editcontent").value = "";
        document.getElementById("editpwd").value = "";
        cancel();
      }
      function del(cnt) {
        let pwd = prompt("ê¸€ ë¹„ë°€ë²ˆí˜¸");
        let delDiv = document.getElementById("d_" + cnt);
        if (pwd == delDiv.pwd) {
          document.getElementById("list").removeChild(delDiv);
        } else {
          alert("ê¸€ ë¹„ë°€ë²ˆí˜¸ê°€ ë‹¤ë¥¸ë°ìš”. ì‚­ì œ ëª» í•¨.");
        }
      }
    </script>
  </head>
  <body>
    <div id="container">
      <header>
        <nav>
          <div class="nav-item"><a href="index.html">í™ˆ</a></div>
          <div class="nav-item"><a href="í”„ë¡œí•„.html">í”„ë¡œí•„</a></div>
          <div class="nav-item">ë‹¤ì´ì–´ë¦¬</div>
          <div class="nav-item">ì¥¬í¬ë°•ìŠ¤</div>
          <div class="nav-item"><a href=ì‚¬ì§„ì²©.html>ì‚¬ì§„ì²©</a></div>
          <div class="nav-item">ê°¤ëŸ¬ë¦¬</div>
          <div class="nav-item">ê²Œì‹œíŒ</div>
          <div class="nav-item">í˜ì´ì§€</div>
          <div class="nav-item"><a href="ë°©ëª…ë¡.html">ë°©ëª…ë¡</a></div>
          <div class="nav-item">ì¦ê²¨ì°¾ê¸°</div>
        </nav>
      </header>
      <main>
        <article>
          <div id="logo">TODAY 1022 | TOTAL 20041022</div>
          <section>
            <div class="article-item">TODAY IS.. ğŸ˜ Chillin</div>
            <div class="article-item">
              <img src="./images/í”„ì‚¬2.JPG" width="220vw" alt="í”„ì‚¬" />
            </div>
            <div class="article-item">
              ~Livin' like a RockstarğŸ¸<br />~ë½ìŠ¤íƒ€ì˜ ì‚¶ì„ ì‚´ê³ ì‹¶ì–´<br /><br />ï¼¼â—ã€€
              â—ï¼¿ã€€ï¼¼â—ã€€ ï¼œâ—ã€‰ã€€* â— *<br />ã€€/>ã€€ <â”‚ã€€ã€€/âˆ¨ã€€ â”‚ * âˆš1âˆ¨*<br /><ï¼¼ã€€ã€€âˆ ï¼¼ã€€/>ã€€ã€€ã€ˆã€‰ã€€*
              /ï¼¼*â€‹
            </div>
            <audio
              controls
              src="audio/rockstar-postmalone.mp3"
              type="audio/mpeg"
            ></audio>
            <div class="link">
              <a href="https://cau-likelion.org/" target="_blank"
                >â˜…ë©‹â˜†ì‚¬â˜…ì›”â˜†ë“œâ˜…<br />https://cau-likelion.org/</a
              >
            </div>
          </section>
        </article>
        <aside>
          <divs class="article-item">Livin' like a Rockstar</divs>
          <section>
            <div class="logo">ë°©ëª…ë¡<br></div>
            <form name="f">
              <table id="t1">
                <tr>
                  <th>ì‘ì„±ì</th>
                  <td><input type="text" name="writer" id="writer" /></td>
                </tr>
                <tr>
                  <th>ê¸€ ë¹„ë°€ë²ˆí˜¸</th>
                  <td><input type="password" name="pwd" id="pwd" /></td>
                </tr>
                <tr>
                  <th>ë‚´ìš©</th>
                  <td><input type="text" name="content" id="content" /></td>
                </tr>
                <tr>
                  <th>ì‘ì„±</th>
                  <td><input type="button" value="ì‘ì„±" onclick="a()" /></td>
                </tr>
              </table>
            </form>
            <div id="list"></div>
            <!-- ìˆ˜ì •í¼ -->
            <table id="editf" style="display: none">
              <tr>
                <th>ì‘ì„±ì</th>
                <td><input type="text" name="editwriter" id="editwriter" /></td>
              </tr>
              <tr>
                <th>ê¸€ ë¹„ë°€ë²ˆí˜¸</th>
                <td><input type="password" name="editpwd" id="editpwd" /></td>
              </tr>
              <tr>
                <th>ë‚´ìš©</th>
                <td>
                  <input type="text" name="editcontent" id="editcontent" />
                </td>
              </tr>
              <tr>
                <th>ìˆ˜ì •ì™„ë£Œ</th>
                <td>
                  <input
                    type="button"
                    value="ìˆ˜ì •ì™„ë£Œ"
                    id="editbtn"
                    onclick="edit()"
                  />
                  <input type="button" value="ì·¨ì†Œ" onclick="cancel()" />
                </td>
              </tr>
            </table>
          </section>
        </aside>
      </main>
    </div>
  </body>
</html>
